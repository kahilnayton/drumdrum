{"ast":null,"code":"var _jsxFileName = \"/Users/Kahil/Desktop/sei/drumdrum/client/src/components/Machine/Machine.js\";\nimport React, { Component } from 'react';\nimport Tone from 'tone';\nimport Slider from './MachineSlider';\nimport { Button } from 'semantic-ui-react';\n\nclass Machine extends Component {\n  constructor(props) {\n    super(props);\n\n    this.start = () => {\n      let counter = 0;\n      let amSynth = new Tone.AMSynth({\n        harmonicity: 5 / 1,\n        detune: 0,\n        oscillator: {\n          type: \"sine\"\n        },\n        envelope: {\n          attack: 0.01,\n          decay: 0.01,\n          sustain: 1,\n          release: 0.5\n        },\n        modulation: {\n          type: \"square\"\n        },\n        modulationEnvelope: {\n          attack: 0.5,\n          decay: 0,\n          sustain: 1,\n          release: 0.5\n        }\n      }).toMaster();\n      let fmSynth = new Tone.FMSynth({\n        harmonicity: 1.1,\n        // mod synth / carier synth\n        modulationIndex: 20,\n        detune: 0,\n        oscillator: {\n          type: \"sine\"\n        },\n        envelope: {\n          attack: 0.01,\n          decay: 0.01,\n          sustain: 1,\n          release: 0.5\n        },\n        modulation: {\n          type: \"square\"\n        },\n        modulationEnvelope: {\n          attack: 0.5,\n          decay: 0,\n          sustain: 1,\n          release: 0.5\n        }\n      }).toMaster();\n      let cymbalSynth = new Tone.MetalSynth({\n        frequency: 200,\n        envelope: {\n          attack: 0.001,\n          decay: 0.1,\n          release: 0.01\n        },\n        harmonicity: 3.1,\n        modulationIndex: 32,\n        resonance: this.props.machineState,\n        octaves: 1.5\n      }).toMaster(); // let counter = 0\n\n      let loopBeat = new Tone.Loop(time => {\n        if (counter % 4 === 0) {\n          fmSynth.triggerAttackRelease(\"D1\", \"8n\", time, 1);\n        }\n\n        if (counter % 2 === 0) {\n          cymbalSynth.triggerAttackRelease(\"D2\", \"4n\", time);\n        }\n\n        counter = (counter + 1) % 16;\n      });\n      Tone.Transport.start(0);\n      loopBeat.start(0);\n      Tone.Transport.bpm.value = this.props.bpm;\n    };\n\n    this.stop = () => {\n      Tone.Transport.stop();\n    };\n\n    this.render = () => {\n      const isPlaying = this.state.isPLaying;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Button, {\n        inverted: true,\n        color: \"green\",\n        onClick: this.start,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Machine\"), React.createElement(Button, {\n        inverted: true,\n        color: \"green\",\n        onClick: this.stop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"stop\"));\n    };\n\n    this.state = {\n      soundName: 'Machine'\n    };\n    console.log(this.props);\n  }\n\n}\n\nexport default Machine;","map":{"version":3,"sources":["/Users/Kahil/Desktop/sei/drumdrum/client/src/components/Machine/Machine.js"],"names":["React","Component","Tone","Slider","Button","Machine","constructor","props","start","counter","amSynth","AMSynth","harmonicity","detune","oscillator","type","envelope","attack","decay","sustain","release","modulation","modulationEnvelope","toMaster","fmSynth","FMSynth","modulationIndex","cymbalSynth","MetalSynth","frequency","resonance","machineState","octaves","loopBeat","Loop","time","triggerAttackRelease","Transport","bpm","value","stop","render","isPlaying","state","isPLaying","soundName","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Tone from 'tone'\nimport Slider from './MachineSlider'\nimport { Button } from 'semantic-ui-react'\n\n\n\nclass Machine extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            soundName: 'Machine'\n\n        }\n\n        console.log(this.props)\n\n    }\n    start = () => {\n        let counter = 0\n        let amSynth = new Tone.AMSynth({\n            harmonicity: 5 / 1,\n            detune: 0,\n            oscillator: {\n                type: \"sine\"\n            },\n            envelope: {\n                attack: 0.01,\n                decay: 0.01,\n                sustain: 1,\n                release: 0.5\n            },\n            modulation: {\n                type: \"square\"\n            },\n            modulationEnvelope: {\n                attack: 0.5,\n                decay: 0,\n                sustain: 1,\n                release: 0.5\n            }\n        }\n        ).toMaster()\n\n\n        let fmSynth = new Tone.FMSynth({\n            harmonicity: 1.1, // mod synth / carier synth\n            modulationIndex: 20,\n            detune: 0,\n            oscillator: {\n                type: \"sine\"\n            },\n            envelope: {\n                attack: 0.01,\n                decay: 0.01,\n                sustain: 1,\n                release: 0.5\n            },\n            modulation: {\n                type: \"square\"\n            },\n            modulationEnvelope: {\n                attack: 0.5,\n                decay: 0,\n                sustain: 1,\n                release: 0.5\n            }\n        }\n        ).toMaster()\n\n\n\n\n        let cymbalSynth = new Tone.MetalSynth({\n            frequency: 200,\n            envelope: {\n                attack: 0.001,\n                decay: 0.1,\n                release: 0.01\n            },\n            harmonicity: 3.1,\n            modulationIndex: 32,\n            resonance: this.props.machineState,\n            octaves: 1.5\n        }).toMaster()\n\n        // let counter = 0\n\n        let loopBeat = new Tone.Loop((time) => {\n            if (counter % 4 === 0) {\n                fmSynth.triggerAttackRelease(\"D1\", \"8n\", time, 1)\n\n            }\n            if (counter % 2 === 0) {\n                cymbalSynth.triggerAttackRelease(\"D2\", \"4n\", time)\n            }\n            counter = (counter + 1) % 16\n        })\n\n        Tone.Transport.start(0);\n\n        loopBeat.start(0)\n        Tone.Transport.bpm.value = this.props.bpm\n    }\n\n    stop = () => {\n        Tone.Transport.stop()\n    }\n\n\n\n    render = () => {\n        const isPlaying = this.state.isPLaying\n        return (\n            <div>\n                <Button inverted color=\"green\"\n                    onClick={this.start}>Machine</Button>\n\n                <Button inverted color=\"green\"\n                    onClick={this.stop}>stop</Button>\n\n            </div>\n        );\n    }\n}\nexport default Machine;"]},"metadata":{},"sourceType":"module"}